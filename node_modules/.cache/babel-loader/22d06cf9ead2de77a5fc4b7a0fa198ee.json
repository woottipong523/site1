{"ast":null,"code":"import _regeneratorRuntime from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/imispsru/Desktop/reactjs/cheque/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import LOGO from\"./assets/logo192.jpeg\";import moment from\"moment\";import axios from\"axios\";import Backdrop from\"@material-ui/core/Backdrop\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{accesstoken}from\"./Config\";import FormatListNumberedIcon from\"@material-ui/icons/FormatListNumbered\";import LockIcon from\"@material-ui/icons/Lock\";import Cookies from\"js-cookie\";import{Navbar,Nav,Container,NavDropdown,InputGroup,FormControl,Table}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.GetDetial=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({backdop:true});_context.next=3;return axios.get(\"https://script.google.com/macros/s/AKfycbyJfsN-HPCrpJhDl6Q7m0ZtF_ehYqtWIYPwmTtv7OYVqhxEoX2HqUU5G2uHneTICH3l/exec?action=read&table=cheque\");case 3:res=_context.sent;data=res.data.data;data=data.filter(function(item){return item.email==_this.state.email;}).map(function(_ref2){var id=_ref2.id,email=_ref2.email,name=_ref2.name,bath=_ref2.bath,account=_ref2.account,status=_ref2.status,statuspay=_ref2.statuspay,datecheque=_ref2.datecheque;return{id:id,email:email,name:name,bath:bath,account:account,status:status,statuspay:statuspay,datecheque:datecheque};});// console.log(data);\n_this.setState({data:data,backdop:false},function(){_this.arrayholder=data;});case 7:case\"end\":return _context.stop();}}},_callee);}));_this.Filter=function(filter){if(filter==\"FILL1\"){var newData1=_this.arrayholder.filter(function(i){return i.status===true;});_this.setState({data:newData1});}else if(filter==\"FILL2\"){var newData2=_this.arrayholder.filter(function(i){return i.status===false;});_this.setState({data:newData2});}else if(filter==\"FILL3\"){var newData3=_this.arrayholder.filter(function(i){return i.statuspay===true;});_this.setState({data:newData3});}else{_this.setState({data:_this.arrayholder});}};_this.Logout=function(){Cookies.remove(\"__session\");_this.props.history.push(\"/\");};_this.state={email:\"\",backdop:false,dateNow:new Date(),filer:\"ALL\",data:[]};setInterval(function(){return _this.chTime();},1000);_this.arrayholder=[];return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;accesstoken().then(function(result){if(result==undefined){_this2.props.history.push(\"/\");}else{_this2.setState({email:_this2.state.email=result});_this2.GetDetial();}});}},{key:\"chTime\",value:function chTime(){//console.log('ChTime');\nthis.setState({dateNow:new Date()});}},{key:\"render\",value:function render(){var _this3=this,_this$state$data;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Backdrop,{open:this.state.backdop// onClick={handleClose}\n,style:{zIndex:1,color:\"#fff\"},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CircularProgress,{color:\"secondary\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"})]}),/*#__PURE__*/_jsxs(\"main\",{role:\"main\",className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded box-shadow\",style:{backgroundColor:\"#512da8\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"mr-3\",src:\"https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-outline.svg\",alt:\"\",width:48,height:48}),/*#__PURE__*/_jsxs(\"div\",{className:\"lh-100\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 text-white lh-100\",children:\"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E01\\u0E32\\u0E23\\u0E08\\u0E48\\u0E32\\u0E22\\u0E40\\u0E0A\\u0E47\\u0E04\"}),/*#__PURE__*/_jsxs(\"small\",{children:[this.state.dateNow.toLocaleDateString()+\" \",\" \",this.state.dateNow.toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3 p-3 bg-white rounded box-shadow\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"border-gray pb-2 mb-0\",children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(Navbar,{collapseOnSelect:true,expand:\"lg\",style:{backgroundColor:\"#d1c4e9\"},children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:/*#__PURE__*/_jsxs(NavDropdown,{title:\"เมนูเพิ่มเติม\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:function onClick(){return _this3.Filter(\"ALL\");},children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:function onClick(){return _this3.Filter(\"FILL1\");},children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E40\\u0E09\\u0E1E\\u0E32\\u0E30\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E1E\\u0E23\\u0E49\\u0E2D\\u0E21\\u0E08\\u0E48\\u0E32\\u0E22\\u0E40\\u0E0A\\u0E47\\u0E04\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:function onClick(){return _this3.Filter(\"FILL2\");},children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E40\\u0E09\\u0E1E\\u0E32\\u0E30\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E08\\u0E48\\u0E32\\u0E22\\u0E40\\u0E0A\\u0E47\\u0E04\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:function onClick(){return _this3.Filter(\"FILL3\");},children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E17\\u0E35\\u0E48\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E0A\\u0E47\\u0E04\\u0E21\\u0E32\\u0E41\\u0E25\\u0E49\\u0E27\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"})]})}),/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:/*#__PURE__*/_jsx(Nav.Link,{onClick:function onClick(){return _this3.Logout();},children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"media text-muted pt-3\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E07\\u0E34\\u0E19\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E40\\u0E15\\u0E23\\u0E35\\u0E22\\u0E21\\u0E08\\u0E48\\u0E32\\u0E22\\u0E40\\u0E0A\\u0E47\\u0E04\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E0A\\u0E47\\u0E04\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(_this$state$data=this.state.data)===null||_this$state$data===void 0?void 0:_this$state$data.map(function(obj,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[index+1,\".\"]}),/*#__PURE__*/_jsx(\"td\",{children:obj.name}),/*#__PURE__*/_jsx(\"td\",{children:obj.bath.toLocaleString(navigator.language,{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{children:obj.status==true?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#006600\"},children:\"\\u0E1E\\u0E23\\u0E49\\u0E2D\\u0E21\\u0E08\\u0E48\\u0E32\\u0E22\\u0E40\\u0E0A\\u0E47\\u0E04\"}):/*#__PURE__*/_jsx(\"span\",{style:{color:\"#ff0000\"},children:\"\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\"})}),/*#__PURE__*/_jsx(\"td\",{children:obj.statuspay==true?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#006600\"},children:\"\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E0A\\u0E47\\u0E04\\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\"}):/*#__PURE__*/_jsx(\"span\",{style:{color:\"#ff0000\"},children:\"\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\"})})]},index);})})]})})]})]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/imispsru/Desktop/reactjs/cheque/src/Main.js"],"names":["React","Component","LOGO","moment","axios","Backdrop","CircularProgress","accesstoken","FormatListNumberedIcon","LockIcon","Cookies","Navbar","Nav","Container","NavDropdown","InputGroup","FormControl","Table","App","props","GetDetial","setState","backdop","get","res","data","filter","item","email","state","map","id","name","bath","account","status","statuspay","datecheque","arrayholder","Filter","newData1","i","newData2","newData3","Logout","remove","history","push","dateNow","Date","filer","setInterval","chTime","then","result","undefined","zIndex","color","backgroundColor","toLocaleDateString","toLocaleTimeString","obj","index","toLocaleString","navigator","language","minimumFractionDigits"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport LOGO from \"./assets/logo192.jpeg\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { accesstoken } from \"./Config\";\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumbered\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport Cookies from \"js-cookie\";\n\nimport {\n  Navbar,\n  Nav,\n  Container,\n  NavDropdown,\n  InputGroup,\n  FormControl,\n  Table,\n} from \"react-bootstrap\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      backdop: false,\n      dateNow: new Date(),\n      filer: \"ALL\",\n      data: [],\n    };\n\n    setInterval(() => this.chTime(), 1000);\n\n    this.arrayholder = [];\n  }\n\n  componentDidMount() {\n    accesstoken().then((result) => {\n      if (result == undefined) {\n        this.props.history.push(\"/\");\n      } else {\n        this.setState({\n          email: (this.state.email = result),\n        });\n        this.GetDetial();\n      }\n    });\n  }\n\n  chTime() {\n    //console.log('ChTime');\n    this.setState({ dateNow: new Date() });\n  }\n\n  GetDetial = async () => {\n    this.setState({\n      backdop: true,\n    });\n\n    const res = await axios.get(\n      `https://script.google.com/macros/s/AKfycbyJfsN-HPCrpJhDl6Q7m0ZtF_ehYqtWIYPwmTtv7OYVqhxEoX2HqUU5G2uHneTICH3l/exec?action=read&table=cheque`\n    );\n\n    let data = res.data.data;\n    data = data\n      .filter((item) => item.email == this.state.email)\n      .map(\n        ({\n          id,\n          email,\n          name,\n          bath,\n          account,\n          status,\n          statuspay,\n          datecheque,\n        }) => ({\n          id,\n          email,\n          name,\n          bath,\n          account,\n          status,\n          statuspay,\n          datecheque,\n        })\n      );\n    // console.log(data);\n    this.setState(\n      {\n        data: data,\n        backdop: false,\n      },\n      () => {\n        this.arrayholder = data;\n      }\n    );\n  };\n\n  Filter = (filter) => {\n    if (filter == \"FILL1\") {\n      const newData1 = this.arrayholder.filter((i) => i.status === true);\n      this.setState({\n        data: newData1,\n      });\n    } else if (filter == \"FILL2\") {\n      const newData2 = this.arrayholder.filter((i) => i.status === false);\n      this.setState({\n        data: newData2,\n      });\n    } else if (filter == \"FILL3\") {\n      const newData3 = this.arrayholder.filter((i) => i.statuspay === true);\n      this.setState({\n        data: newData3,\n      });\n    } else {\n      this.setState({\n        data: this.arrayholder,\n      });\n    }\n  };\n\n  Logout = () => {\n    Cookies.remove(\"__session\");\n    this.props.history.push(\"/\");\n  };\n\n  render() {\n    return (\n      <div>\n        <Backdrop\n          open={this.state.backdop}\n          // onClick={handleClose}\n          style={{ zIndex: 1, color: \"#fff\" }}\n        >\n          <div>\n            <CircularProgress color=\"secondary\" />\n          </div>\n          <span>กำลังโหลด...</span>\n        </Backdrop>\n        <main role=\"main\" className=\"container\">\n          <div\n            className=\"d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded box-shadow\"\n            style={{ backgroundColor: \"#512da8\" }}\n          >\n            <img\n              className=\"mr-3\"\n              src=\"https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-outline.svg\"\n              alt=\"\"\n              width={48}\n              height={48}\n            />\n            <div className=\"lh-100\">\n              <h6 className=\"mb-0 text-white lh-100\">\n                ระบบตรวจสอบสถานะการจ่ายเช็ค\n                {/* องค์การบริหารส่วนตำบล แก่งโสภา อ.วังทอง จ.พิษณุโลก 65000 */}\n              </h6>\n              <small>\n                {this.state.dateNow.toLocaleDateString() + \" \"}{\" \"}\n                {this.state.dateNow.toLocaleTimeString()}\n              </small>\n            </div>\n          </div>\n          <div className=\"my-3 p-3 bg-white rounded box-shadow\">\n            <h6 className=\"border-gray pb-2 mb-0\">แสดงรายการ</h6>\n            <Navbar\n              collapseOnSelect\n              expand=\"lg\"\n              style={{ backgroundColor: \"#d1c4e9\" }}\n            >\n              <Container>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                  {/* <FormatListNumberedIcon style={{ color: \"#512da8\" }} /> */}\n                  <Nav className=\"me-auto\">\n                    <NavDropdown\n                      title={\"เมนูเพิ่มเติม\"}\n                      id=\"basic-nav-dropdown\"\n                    >\n                      <NavDropdown.Item onClick={() => this.Filter(\"ALL\")}>\n                        แสดงรายการทั้งหมด\n                      </NavDropdown.Item>\n                      <NavDropdown.Item onClick={() => this.Filter(\"FILL1\")}>\n                        แสดงเฉพาะรายการพร้อมจ่ายเช็ค\n                      </NavDropdown.Item>\n                      <NavDropdown.Item onClick={() => this.Filter(\"FILL2\")}>\n                        แสดงเฉพาะรายการอยู่ระหว่างการดำเนินการจ่ายเช็ค\n                      </NavDropdown.Item>\n                      <NavDropdown.Item onClick={() => this.Filter(\"FILL3\")}>\n                        แสดงรายการที่รับเช็คมาแล้วทั้งหมด\n                      </NavDropdown.Item>\n                      {/* <NavDropdown.Divider /> */}\n                    </NavDropdown>\n                  </Nav>\n                  {/* <LockIcon style={{ color: \"#512da8\" }} /> */}\n                  <Nav className=\"me-auto\">\n                    <Nav.Link onClick={() => this.Logout()}>\n                      ออกจากระบบ\n                    </Nav.Link>\n                  </Nav>\n                </Navbar.Collapse>\n              </Container>\n            </Navbar>\n            <div className=\"media text-muted pt-3\">\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>ชื่อรายการ</th>\n                    <th>จำนวนเงิน</th>\n                    <th>สถานะเตรียมจ่ายเช็ค</th>\n                    <th>สถานะรับเช็ค</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.data?.map((obj, index) => {\n                    return (\n                      <tr key={index}>\n                        <td>{index + 1}.</td>\n                        <td>{obj.name}</td>\n                        <td>\n                          {obj.bath.toLocaleString(navigator.language, {\n                            minimumFractionDigits: 2,\n                          })}\n                        </td>\n                        <td>\n                          {obj.status == true ? (\n                            <span style={{ color: \"#006600\" }}>\n                              พร้อมจ่ายเช็ค\n                            </span>\n                          ) : (\n                            <span style={{ color: \"#ff0000\" }}>\n                              อยู่ระหว่างการดำเนินการ\n                            </span>\n                          )}\n                        </td>\n                        <td>\n                          {obj.statuspay == true ? (\n                            <span style={{ color: \"#006600\" }}>\n                              รับเช็คเรียบร้อย\n                            </span>\n                          ) : (\n                            <span style={{ color: \"#ff0000\" }}>\n                              อยู่ระหว่างการดำเนินการ\n                            </span>\n                          )}\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </Table>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}